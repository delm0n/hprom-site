import{d as f,o as c,a as u,g as l,F as k,r as b,n as x,t as h,p as y,b as a,u as s,w as P,_ as B,l as N,s as O,m as w,v as C,f as T,T as S,x as L,y as $,c as H}from"./DDl2FGvW.js";import{_ as M}from"./8ZbzywKH.js";import{_ as D}from"./Bd0LuH3z.js";import{_ as Z}from"./CHYFmUw-.js";import"./CO-ZuBqh.js";import"./BZmUo7qH.js";const z={class:"number-navigation"},F=["textContent","onClick"],Q=f({__name:"NumberNavigation",props:{page:{},countOfPage:{}},setup(v,{emit:m}){const i=m,t=e=>{i("set-page",e)};return(e,n)=>(c(),u("div",z,[l(M,{right:!1,onClick:n[0]||(n[0]=o=>e.page!=1?t(e.page-1):"")}),(c(!0),u(k,null,b(e.countOfPage,(o,_)=>(c(),u("p",{class:x(["number-navigation__number",o==e.page?"active":""]),key:_,textContent:h(o),onClick:p=>t(o)},null,10,F))),128)),l(M,{right:!0,onClick:n[1]||(n[1]=o=>e.page!=e.countOfPage?t(e.page+1):"")})]))}}),V={class:"media-item"},E={class:"media-item__img skeleton-image"},G={class:"media-item__content"},I={class:"content-title"},R=["innerHTML"],U=["innerHTML"],j=f({__name:"MediaItem",props:{item:{},link:{}},setup(v){const m=y();return(i,t)=>{const e=B,n=N;return c(),u("div",V,[a("div",E,[l(e,{format:"avif,webp",sizes:"500px",src:"/images/media/"+i.item.img+".png",alt:i.item.title},null,8,["src","alt"])]),a("div",G,[a("h2",I,h(i.item.title),1),a("p",{class:"content-date",innerHTML:i.item.date},null,8,R),a("p",{class:"content-text",innerHTML:s(m).getShortDescription(i.item.text,77)},null,8,U),l(n,{to:i.link,class:"button-secondary"},{default:P(()=>t[0]||(t[0]=[a("span",null,"Читать",-1),a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15",viewBox:"0 0 16 15",fill:"none"},[a("path",{d:"M1 6.5C0.447715 6.5 4.82823e-08 6.94772 0 7.5C-4.82823e-08 8.05228 0.447715 8.5 1 8.5L1 6.5ZM15.7071 8.20711C16.0976 7.81658 16.0976 7.18342 15.7071 6.79289L9.34315 0.428933C8.95262 0.0384085 8.31946 0.0384084 7.92893 0.428933C7.53841 0.819457 7.53841 1.45262 7.92893 1.84315L13.5858 7.5L7.92893 13.1569C7.53841 13.5474 7.53841 14.1805 7.92893 14.5711C8.31946 14.9616 8.95262 14.9616 9.34314 14.5711L15.7071 8.20711ZM1 8.5L15 8.5L15 6.5L1 6.5L1 8.5Z",fill:"#323232"})],-1)])),_:1},8,["to"])])])}}}),q={class:"media-page page"},A={class:"container"},J={class:"page-title"},K={class:"media-wrapper"},W={class:"media-wrapper__content"},X={class:"content-grid"},ie=f({__name:"index",setup(v){const m=y(),i=O(),t=w(()=>m.getMediaByUrl(i.params.url)),e=C(1),n=C(3);T(()=>{const p=window.matchMedia("(max-width: 475px)"),d=window.matchMedia("(max-width: 768px)"),r=()=>{p.matches?n.value=3:d.matches?n.value=4:n.value=3,e.value=1};r(),p.addListener(r),d.addListener(r)});const o=w(()=>Math.ceil(t.value.contents.length/n.value)),_=[{title:"Главная",ref:"/"},{title:"Медиа",ref:"/media/novosti"},{title:t.value.title}];return(p,d)=>(c(),u("main",q,[a("div",A,[l(Z,{array:_}),a("h1",J,h(s(t).title),1),a("div",K,[l(D,{title:s(t).title,page:"/media",array:s(m).medias},null,8,["title","array"]),a("div",W,[a("div",X,[l(S,null,{default:P(()=>[(c(!0),u(k,null,b(s(t).contents,(r,g)=>L((c(),H(j,{key:g,item:r,link:"/media/"+s(t).url+"/"+r.path},null,8,["item","link"])),[[$,g>=s(n)*(s(e)-1)&&g<s(e)*s(n)]])),128))]),_:1})]),L(l(Q,{page:s(e),countOfPage:s(o),onSetPage:d[0]||(d[0]=r=>e.value=r)},null,8,["page","countOfPage"]),[[$,s(o)>1]])])])])]))}});export{ie as default};
